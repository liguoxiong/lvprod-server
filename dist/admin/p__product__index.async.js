(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"3Lts":function(e,t,a){"use strict";a.r(t);a("14J3");var n,r,i,l,o,c,s,d,u,m,p,h=a("BMrR"),f=(a("jCWc"),a("kPKH")),g=(a("P2fV"),a("NJEC")),y=(a("+L6B"),a("2/Rp")),v=a("p0pE"),E=a.n(v),k=a("2Taf"),b=a.n(k),w=a("vZ4D"),C=a.n(w),_=a("l4Ni"),T=a.n(_),x=a("ujKo"),I=a.n(x),F=a("MhPg"),S=a.n(F),V=a("q1tI"),P=a.n(V),R=(a("17x9"),a("7Qib")),O=a("MuoO"),D=a("ZD0w"),M=a("Kvkj"),L=a("Qyje"),j=(a("g9YV"),a("wCAj")),q=a("jehZ"),Y=a.n(q),A=(a("Telt"),a("Tckk")),N=a("Y/ft"),K=a.n(N),Q=(a("2qtc"),a("kLXV")),z=a("wY1l"),B=a.n(z),J=a("q3QC"),U=a.n(J),H=Q["a"].confirm,X=(n=Object(D["withI18n"])(),n((i=function(e){function t(){var e,a;b()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=T()(this,(e=I()(t)).call.apply(e,[this].concat(r))),a.handleMenuClick=function(e,t){var n=a.props,r=n.onDeleteItem,i=n.onEditItem,l=n.i18n;"1"===t.key?i(e):"2"===t.key&&H({title:l._("Are you sure delete this record?"),onOk:function(){r(e._id)}})},a}return S()(t,e),C()(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.onDeleteItem,t.onEditItem,t.i18n),n=K()(t,["onDeleteItem","onEditItem","i18n"]),r=[{title:P.a.createElement(D["Trans"],{id:"H\xecnh \u1ea3nh"}),dataIndex:"image",key:"image",width:72,fixed:"left",render:function(e){return P.a.createElement(A["a"],{style:{marginLeft:8},src:e[0]?e[0].url||e[0].thumbUrl:null})}},{title:P.a.createElement(D["Trans"],{id:"T\xean S\u1ea3n ph\u1ea9m"}),dataIndex:"name",key:"name",render:function(e,t){return P.a.createElement(B.a,{to:"product/".concat(t._id)},e)}},{title:P.a.createElement(D["Trans"],{id:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"}),dataIndex:"category.title",key:"category._id"},{title:P.a.createElement(D["Trans"],{id:"M\xf4 t\u1ea3"}),dataIndex:"description",key:"description"},{title:P.a.createElement(D["Trans"],{id:"T\xe0i li\u1ec7u k\u1ef9 thu\u1eadt"}),dataIndex:"documentation",key:"documentation"},{title:P.a.createElement(D["Trans"],{id:"Xu\u1ea5t x\u1ee9"}),dataIndex:"origin",key:"origin"},{title:P.a.createElement(D["Trans"],{id:"M\xe3 S\u1ea3n ph\u1ea9m"}),dataIndex:"model_number",key:"model_number"},{title:P.a.createElement(D["Trans"],{id:"Th\u1eddi gian giao h\xe0ng"}),dataIndex:"dilivery_time",key:"dilivery_time"},{title:P.a.createElement(D["Trans"],{id:"Th\u1eddi gian b\u1ea3o h\xe0nh"}),dataIndex:"warranty_time",key:"warranty_time"},{title:P.a.createElement(D["Trans"],{id:"Ng\xe0y t\u1ea1o"}),dataIndex:"created_at",key:"created_at"},{title:P.a.createElement(D["Trans"],{id:"Operation"}),key:"operation",fixed:"right",render:function(t,n){return P.a.createElement(M["a"],{onMenuClick:function(t){return e.handleMenuClick(n,t)},menuOptions:[{key:"1",name:a._("Update")},{key:"2",name:a._("Delete")}]})}}];return P.a.createElement(j["a"],Y()({},n,{pagination:E()({},n.pagination,{showTotal:function(e){return a._("Total {total} Items",{total:e})}}),className:U.a.table,bordered:!0,scroll:{x:1200},columns:r,simple:!0,rowKey:function(e){return e._id}}))}}]),t}(V["PureComponent"]),r=i))||r),Z=X,W=(a("6UJt"),a("DFOY")),G=(a("y8nQ"),a("Vl3Y")),$=(a("iQDF"),a("+eQT")),ee=(a("5NDa"),a("5rEg")),te=a("wd/R"),ae=a.n(te),ne=a("Lo71"),re=ee["a"].Search,ie=$["a"].RangePicker,le={xs:24,sm:12,style:{marginBottom:16}},oe=E()({},le,{xl:96}),ce=(l=Object(D["withI18n"])(),o=G["a"].create(),l(c=o((s=function(e){function t(){var e,a;b()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=T()(this,(e=I()(t)).call.apply(e,[this].concat(r))),a.handleFields=function(e){var t=e.createTime;return t.length&&(e.createTime=[ae()(t[0]).format("YYYY-MM-DD"),ae()(t[1]).format("YYYY-MM-DD")]),e},a.handleSubmit=function(){var e=a.props,t=e.onFilterChange,n=e.form,r=n.getFieldsValue,i=r();i=a.handleFields(i),t(i)},a.handleReset=function(){var e=a.props.form,t=e.getFieldsValue,n=e.setFieldsValue,r=t();for(var i in r)({}).hasOwnProperty.call(r,i)&&(r[i]instanceof Array?r[i]=[]:r[i]=void 0);n(r),a.handleSubmit()},a.handleChange=function(e,t){var n=a.props,r=n.form,i=n.onFilterChange,l=r.getFieldsValue,o=l();o[e]=t,o=a.handleFields(o),i(o)},a}return S()(t,e),C()(t,[{key:"render",value:function(){var e=this.props,t=e.onAdd,a=e.filter,n=e.form,r=e.i18n,i=n.getFieldDecorator,l=a.name,o=a.address,c=[];return a.createTime&&a.createTime[0]&&(c[0]=ae()(a.createTime[0])),a.createTime&&a.createTime[1]&&(c[1]=ae()(a.createTime[1])),P.a.createElement(h["a"],{gutter:24},P.a.createElement(f["a"],Y()({},le,{xl:{span:4},md:{span:8}}),i("name",{initialValue:l})(P.a.createElement(re,{placeholder:r._("Search Name"),onSearch:this.handleSubmit}))),P.a.createElement(f["a"],Y()({},le,{xl:{span:4},md:{span:8},id:"addressCascader"}),i("address",{initialValue:o})(P.a.createElement(W["a"],{style:{width:"100%"},options:ne["a"],placeholder:r._("Please pick an address"),onChange:this.handleChange.bind(this,"address"),getPopupContainer:function(){return document.getElementById("addressCascader")}}))),P.a.createElement(f["a"],Y()({},le,{xl:{span:6},md:{span:8},sm:{span:12},id:"createTimeRangePicker"}),P.a.createElement(M["c"],{label:r._("CreateTime")},i("createTime",{initialValue:c})(P.a.createElement(ie,{style:{width:"100%"},onChange:this.handleChange.bind(this,"createTime"),getCalendarContainer:function(){return document.getElementById("createTimeRangePicker")}})))),P.a.createElement(f["a"],Y()({},oe,{xl:{span:10},md:{span:24},sm:{span:24}}),P.a.createElement(h["a"],{type:"flex",align:"middle",justify:"space-between"},P.a.createElement("div",null,P.a.createElement(y["a"],{type:"primary",className:"margin-right",onClick:this.handleSubmit},P.a.createElement(D["Trans"],{id:"Search"})),P.a.createElement(y["a"],{onClick:this.handleReset},P.a.createElement(D["Trans"],{id:"Reset"}))),P.a.createElement(y["a"],{type:"ghost",onClick:t},P.a.createElement(D["Trans"],{id:"Create"})))))}}]),t}(V["Component"]),c=s))||c)||c),se=ce,de=(a("sRBo"),a("kaz8")),ue=(a("DZo9"),a("8z0m")),me=(a("Pwec"),a("CtXQ")),pe=a("d6i3"),he=a.n(pe),fe=a("1l/V"),ge=a.n(fe),ye=(a("OaEy"),a("2fM7")),ve=(a("tglV"),ye["a"].Option),Ee=G["a"].Item;function ke(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}})}var be,we,Ce,_e,Te={labelCol:{span:6},wrapperCol:{span:14}},xe=(d=Object(D["withI18n"])(),u=G["a"].create(),d(m=u((p=function(e){function t(){var e,a;b()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=T()(this,(e=I()(t)).call.apply(e,[this].concat(r))),a.state={previewVisible:!1,previewImage:"",fileList:[],category:""},a.handleOk=function(){var e=a.props,t=e.item,n=void 0===t?{}:t,r=e.onOk,i=e.form,l=i.validateFields,o=i.getFieldsValue,c=a.state.fileList;l(function(){var e=ge()(he.a.mark(function e(t){var a,i,l,s,d,u,m,p,h;return he.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:a=[],i=!0,l=!1,s=void 0,e.prev=6,d=c[Symbol.iterator]();case 8:if(i=(u=d.next()).done){e.next=21;break}if(m=u.value,!m.originFileObj){e.next=17;break}return e.next=13,ke(m.originFileObj);case 13:p=e.sent,a.push({uid:m.uid,name:m.name,status:m.status,url:p}),e.next=18;break;case 17:a=m;case 18:i=!0,e.next=8;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](6),l=!0,s=e.t0;case 27:e.prev=27,e.prev=28,i||null==d.return||d.return();case 30:if(e.prev=30,!l){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(27);case 35:h=E()({},o(),{key:n.key,image:a}),console.log(h),r(h);case 38:case"end":return e.stop()}},e,null,[[6,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}())},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(){var e=ge()(he.a.mark(function e(t){return he.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,ke(t.originFileObj);case 3:t.preview=e.sent;case 4:a.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.fileList;return a.setState({fileList:t})},a.handleSelectChange=function(e){a.setState({category:e})},a}return S()(t,e),C()(t,[{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps",e),this.props!==e&&this.setState({fileList:e.item.image})}},{key:"render",value:function(){var e=this.props,t=e.item,a=void 0===t?{}:t,n=(e.onOk,e.form),r=e.i18n,i=e.categories,l=K()(e,["item","onOk","form","i18n","categories"]),o=n.getFieldDecorator,c=this.state,s=c.previewVisible,d=c.previewImage,u=c.fileList,m=c.category,p=P.a.createElement("div",null,P.a.createElement(me["a"],{type:"plus"}),P.a.createElement("div",{className:"ant-upload-text"},"Upload"));return P.a.createElement(Q["a"],Y()({},l,{onOk:this.handleOk}),P.a.createElement(G["a"],{layout:"horizontal"},P.a.createElement(Ee,Y()({label:r._("T\xean S\u1ea3n ph\u1ea9m"),hasFeedback:!0},Te),o("name",{initialValue:a.name,rules:[{required:!0}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("Lo\u1ea1i s\u1ea3n ph\u1ea9m"),hasFeedback:!0},Te),o("category",{initialValue:a.category?a.category._id:"",rules:[{required:!0}]})(P.a.createElement(ye["a"],{style:{width:"100%"},size:"large",value:m,placeholder:"Ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m",onChange:this.handleSelectChange},P.a.createElement(ve,{value:"",disabled:!0},P.a.createElement("em",null,"Ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m")),!!i&&i.map(function(e){return P.a.createElement(ve,{value:e._id,key:e._id},e.title)})))),P.a.createElement(Ee,Y()({label:r._("M\xf4 t\u1ea3"),hasFeedback:!0},Te),o("description",{initialValue:a.description,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("T\xe0i li\u1ec7u k\u1ef9 thu\u1eadt"),hasFeedback:!0},Te),o("documentation",{initialValue:a.documentation,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("Xu\u1ea5t x\u1ee9"),hasFeedback:!0},Te),o("origin",{initialValue:a.origin,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("M\xe3 S\u1ea3n ph\u1ea9m"),hasFeedback:!0},Te),o("model_number",{initialValue:a.model_number,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("Th\u1eddi gian giao h\xe0ng"),hasFeedback:!0},Te),o("dilivery_time",{initialValue:a.dilivery_time,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("Th\u1eddi gian b\u1ea3o h\xe0nh"),hasFeedback:!0},Te),o("warranty_time",{initialValue:a.warranty_time,rules:[{required:!1}]})(P.a.createElement(ee["a"],null))),P.a.createElement(Ee,Y()({label:r._("H\xecnh \u1ea3nh"),hasFeedback:!0},Te),P.a.createElement("div",{className:"clearfix"},P.a.createElement(ue["a"],{listType:"picture-card",fileList:u,onPreview:this.handlePreview,onChange:this.handleChange,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76"},u&&u.length>=8?null:p),P.a.createElement(Q["a"],{visible:s,footer:null,onCancel:this.handleCancel},P.a.createElement("img",{alt:"example",style:{width:"100%"},src:d})))),P.a.createElement(Ee,Y()({label:r._("Hi\u1ec7n \u1edf trang ch\u1ee7")},Te),o("isShow",{initialValue:a.isShow,valuePropName:"checked"})(P.a.createElement(de["a"],null)))))}}]),t}(V["Component"]),m=p))||m)||m),Ie=xe,Fe=(be=Object(D["withI18n"])(),we=Object(O["connect"])(function(e){var t=e.product,a=e.loading;return{product:t,loading:a}}),be(Ce=we((_e=function(e){function t(){var e,a;b()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=T()(this,(e=I()(t)).call.apply(e,[this].concat(r))),a.handleRefresh=function(e){var t=a.props.location,n=t.query,r=t.pathname;R["k"].push({pathname:r,search:Object(L["stringify"])(E()({},n,e),{arrayFormat:"repeat"})})},a.handleDeleteItems=function(){var e=a.props,t=e.dispatch,n=e.product,r=n.list,i=n.pagination,l=n.selectedRowKeys;t({type:"product/multiDelete",payload:{ids:l}}).then(function(){a.handleRefresh({page:r.length===l.length&&i.current>1?i.current-1:i.current})})},a}return S()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"product/queryCategory"})}},{key:"render",value:function(){var e=this.props.product,t=e.selectedRowKeys;return P.a.createElement(M["f"],{inner:!0},P.a.createElement(se,this.filterProps),t.length>0&&P.a.createElement(h["a"],{style:{marginBottom:24,textAlign:"right",fontSize:13}},P.a.createElement(f["a"],null,"Selected ".concat(t.length," items "),P.a.createElement(g["a"],{title:"Are you sure delete these items?",placement:"left",onConfirm:this.handleDeleteItems},P.a.createElement(y["a"],{type:"primary",style:{marginLeft:8}},"Remove")))),P.a.createElement(Z,this.listProps),P.a.createElement(Ie,this.modalProps))}},{key:"modalProps",get:function(){var e=this,t=this.props,a=t.dispatch,n=t.product,r=t.loading,i=t.i18n,l=n.categories,o=n.currentItem,c=n.modalVisible,s=n.modalType;return{item:"create"===s?{}:o,categories:l,visible:c,destroyOnClose:!0,maskClosable:!1,confirmLoading:r.effects["product/".concat(s)],title:"".concat("create"===s?i._("Create Product"):i._("Update Product")),centered:!0,onOk:function(t){a({type:"product/".concat(s),payload:t}).then(function(){e.handleRefresh()})},onCancel:function(){a({type:"product/hideModal"})}}}},{key:"listProps",get:function(){var e=this,t=this.props,a=t.dispatch,n=t.product,r=t.loading,i=n.list,l=n.pagination,o=n.selectedRowKeys;return{dataSource:i,loading:r.effects["product/query"],pagination:l,onChange:function(t){e.handleRefresh({page:t.current,pageSize:t.pageSize})},onDeleteItem:function(t){a({type:"product/delete",payload:t}).then(function(){e.handleRefresh({page:1===i.length&&l.current>1?l.current-1:l.current})})},onEditItem:function(e){a({type:"product/showModal",payload:{modalType:"update",currentItem:e}})},rowSelection:{selectedRowKeys:o,onChange:function(e){a({type:"product/updateState",payload:{selectedRowKeys:e}})}}}}},{key:"filterProps",get:function(){var e=this,t=this.props,a=t.location,n=t.dispatch,r=a.query;return{filter:E()({},r),onFilterChange:function(t){e.handleRefresh(E()({},t))},onAdd:function(){n({type:"product/showModal",payload:{modalType:"create"}})}}}}]),t}(V["PureComponent"]),Ce=_e))||Ce)||Ce);t["default"]=Fe},q3QC:function(e,t,a){e.exports={table:"table___4MT_h"}},tglV:function(e,t,a){e.exports={"ant-upload-select-picture-card":"ant-upload-select-picture-card___3bJuM","ant-upload-text":"ant-upload-text___1kGcD"}}}]);